<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>基因喵DEMO</title>
  <script src="https://static.genebox.cn/static/temp/lottie.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.6.10/lottie_canvas_worker.min.js"></script>
  <style>
    #btn {
      width: 30px;
      height: 30px;
      background: #f00;
      color: #fff;
      position: absolute;
      bottom: 130px;
      right: 30px;
    }
    .fpsDiv {
      position: fixed;
      top: 25px;
      left: 30px;
      color: #f00;
      background: #000;
      font-size: 20px;
      font-weight: 500;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <div id="btn">
    play
  </div>
  <div class="fpsDiv">40fps</div>
  <script>
    const fpsDiv = document.querySelector('.fpsDiv')
    // const data = {"v":"5.5.4","fr":60,"ip":0,"op":75,"w":1000,"h":1000,"nm":"大眼睛","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"“图层 2”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[481.462,442.166,0],"ix":2},"a":{"a":0,"k":[45.339,51.129,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[11.453,-8.999],[3.745,-5.373],[-0.126,-5.664],[-3.398,-3.649],[-8.558,8.243],[-2.517,6.482],[-2.706,5.223],[-7.237,12.712],[7.741,6.23]],"o":[[-5.143,4.056],[-12.02,17.243],[0.126,7.929],[6.985,7.489],[3.021,-2.895],[4.657,-12.083],[7.174,-14.097],[4.782,-8.433],[-14.599,-11.579]],"v":[[-19.665,-27.217],[-33.069,-12.995],[-44.9,27.281],[-41.25,43.39],[-9.408,41.44],[-2.674,28.791],[2.486,8.276],[40.307,-10.981],[32.944,-39.3]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[45.339,51.129],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"“图层 3”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[573.812,450.19,0],"ix":2},"a":{"a":0,"k":[4.655,5.851,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-2.433,0],[0,-3.093],[2.433,0],[0,3.093]],"o":[[2.433,0],[0,3.093],[-2.433,0],[0,-3.093]],"v":[[0,-5.601],[4.405,0],[0,5.601],[-4.405,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[4.655,5.851],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"“图层 4”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[546.753,423.256,0],"ix":2},"a":{"a":0,"k":[15.354,19.317,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-8.342,0],[0,-10.531],[8.341,0],[0,10.531]],"o":[[8.341,0],[0,10.531],[-8.342,0],[0,-10.531]],"v":[[0,-19.068],[15.104,0.001],[0,19.068],[-15.104,0.001]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[15.354,19.317],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"“图层 5”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[572.554,488.452,0],"ix":2},"a":{"a":0,"k":[22.779,9.879,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-12.442,0],[0,-5.317],[12.442,0],[0,5.318]],"o":[[12.442,0],[0,5.318],[-12.442,0],[0,-5.317]],"v":[[0,-9.629],[22.529,0],[0,9.629],[-22.529,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[22.779,9.878],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"“图层 6”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[472.936,520.672,0],"ix":2},"a":{"a":0,"k":[18.122,18.122,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-9.871,0],[0,-9.871],[9.871,0],[0,9.87]],"o":[[9.871,0],[0,9.87],[-9.871,0],[0,-9.871]],"v":[[0,-17.872],[17.872,0],[0,17.872],[-17.872,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[18.122,18.122],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"“透明度”轮廓","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[517.535,510.646,0],"ix":2},"a":{"a":0,"k":[64.302,31.871,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-0.252,-1.95],[-4.782,-1.196],[-22.214,11.012],[6.041,12.334],[1.323,0.251],[24.353,-3.398],[12.02,-8.622]],"o":[[2.391,21.459],[6.859,1.761],[22.215,-11.014],[-3.022,-6.104],[-20.829,-3.525],[-25.802,3.587],[-6.041,4.405]],"v":[[-64.108,-2.498],[-23.141,29.471],[27.266,24.689],[63.2,-23.768],[50.298,-31.571],[-2.688,-3.064],[-59.2,-19.048]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[64.301,31.871],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"“黑”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[509.31,469.447,0],"ix":2},"a":{"a":0,"k":[87.534,87.534,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":20.322,"s":[100,9,100]},{"t":42,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-48.206,0],[0,-48.205],[48.205,0],[0,48.206]],"o":[[48.205,0],[0,48.206],[-48.206,0],[0,-48.205]],"v":[[0,-87.284],[87.284,0],[0,87.284],[-87.284,0]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":2,"k":{"a":0,"k":[0,1,1,1,1,0,0,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[100,0],"ix":6},"t":1,"nm":"渐变填充 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[87.534,87.534],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"“图层 10”轮廓","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[509.309,469.447,0],"ix":2},"a":{"a":0,"k":[101.615,101.615,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-54.74,0],[0,-54.74],[54.739,0],[0,54.739]],"o":[[54.739,0],[0,54.739],[-54.74,0],[0,-54.74]],"v":[[0.001,-99.115],[99.115,0.001],[0.001,99.115],[-99.115,0.001]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.046999998654,0.046999998654,0.046999998654,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[101.614,101.614],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-54.74,0],[0,-54.74],[54.739,0],[0,54.739]],"o":[[54.739,0],[0,54.739],[-54.74,0],[0,-54.74]],"v":[[0.001,-99.115],[99.115,0.001],[0.001,99.115],[-99.115,0.001]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[101.614,101.614],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 2","np":4,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}
    const testLot = bodymovin.loadAnimation({
      wrapper: document.getElementById('root'), // the dom element that will contain the animation
      animType: 'svg',
      loop: true,
      autoplay: false,
      path: 'http://laso-report-18.oss-cn-beijing.aliyuncs.com/static/lottietest/data.json',
      // animationData: data,
    });

    const START_SEGMENT = 0
    const END_SEGMENT = 300
    const step = 1 // 速度
    const segmentTime = 1 / step * 40 // 每贞时间
    let startSegment = START_SEGMENT // 初始贞
    let timer = null
    testLot.setSpeed(step)

    function startFPS () {
      timer = setInterval(() => {
        fpsDiv.innerText = `${startSegment}`
        startSegment += 1
      }, segmentTime)
    }

    testLot.addEventListener('DOMLoaded', () => {
      startFPS()
      testLot.playSegments([START_SEGMENT, END_SEGMENT], true)
      testLot.addEventListener('loopComplete', () => {
        testLot.playSegments([START_SEGMENT, END_SEGMENT], true)
        startSegment = START_SEGMENT
      })
    })

    let isStop = false
    btn.onclick = () => {
      if (isStop) {
        startFPS()
        testLot.play()
      } else {
        testLot.pause()
        clearInterval(timer)
      }
      isStop = !isStop
    }
    // testLot.playSegments([800, 1300], true)
  </script>
</body>
</html>